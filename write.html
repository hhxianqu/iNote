<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>iNote</title>

    <!--<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,800italic,800,700italic,700,600italic,400italic,600,300italic,300|Oswald:400,300,700' rel='stylesheet' type='text/css'>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">


    <link href="css/owl.carousel.css" rel="stylesheet">
    <link href="css/owl.theme.css" rel="stylesheet">
    <link href="css/owl.transitions.css" rel="stylesheet">

    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="css/editormd.css" />
    <link href="css/text_input.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <script src="js/html5shiv.min.js"></script>
    <script src="js/respond.min.js"></script>

</head>
    <body>

        <header class="st-navbar">
            <nav class="navbar navbar-default navbar-fixed-top clearfix" role="navigation">
                <div class="container"><!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header">
                        <a class="navbar-brand" href="#"><img src="images/logo.png" alt="" class="img-responsive"></a>
                    </div>
                </div>
            </nav>
        </header>

        <div style="padding: 100px 0; height: 400px">
            <div align="center">
                <span class="input input--hoshi">
                <input class="input__field input__field--hoshi" type="text" id="input-4" />
                <label class="input__label input__label--hoshi input__label--hoshi-color" for="input-4">
                    <span class="input__label-content input__label-content--hoshi">Title</span>
                </label>
            </span>
            </div>
            <div id="test-editormd">
                <textarea name="test-editormd-markdown-doc"></textarea>
                <textarea name="test-editormd-html-code"></textarea>
            </div>
            <div>
                <a style="margin-left: 35%" class="btn btn-default-a" id="submit"> Save </a>
                <a href="note.html" style="margin-left: 14%;" class="btn btn-default-a">Return</a>
            </div>
        </div>

        <!--<script src='js/jquery.js'></script>-->
        <script src="js/jquery.min.js"></script>
        <script src="js/editormd.js"></script>
        <script type="text/javascript">
            var testEditor;

            $(function() {
                // You can custom @link base url.
                editormd.urls.atLinkBase = "https://github.com/";

                testEditor = editormd("test-editormd", {
                    width     : "90%",
                    height    : 515,
                    toc       : true,
                    //atLink    : false,    // disable @link
                    //emailLink : false,    // disable email address auto link
                    todoList  : true,
                    path      : 'lib/',
                    saveHTMLToTextarea : true
                });
            });

            $("#submit").click(function () {
                $.ajax({
                    type: 'POST',
                    url: '/iNote/php/post.php',
                    data: {
                        submit  : "",
                        markdown: testEditor.getMarkdown(),
                        html    : testEditor.getHTML()
                    },
                    success: function (result, status, xhr) {
                        console.log(result);
                    },
                    error: function (xhr, status, error) {
                        console.log(xhr.status);
                        console.log(status);
                    }
                });
            });
        </script>
        <!--添加表情-->
        <script type="text/javascript">
            var testEditor;

            $(function() {
                // You can custom Emoji's graphics files url path
                editormd.emoji     = {
                    path  : "images/emoji/",
                    ext   : ".png"
                };

                // Twitter Emoji (Twemoji)  graphics files url path
                editormd.twemoji = {
                    path : "http://twemoji.maxcdn.com/72x72/",
                    ext  : ".png"
                };

                testEditor = editormd("test-editormd", {
                    toc : true,
                    emoji : true,  // Support Github emoji, Twitter Emoji(Twemoji), fontAwesome, Editor.md logo emojis.
                    taskList : true,
                    path   : 'lib/'
                });
            });
        </script>

        <!--上传图片-->
        <script type="text/javascript">
            $(function() {
                var testEditor = editormd("test-editormd", {
                    markdown : "",
                    imageUpload : true,
                    imageFormats : ["jpg", "jpeg", "gif", "png", "bmp", "webp"],
                    imageUploadURL : "./php/upload.php",


//                     上传的后台只需要返回一个 JSON 数据，结构如下：
//                     {
//                     success : 0 | 1,           // 0 表示上传失败，1 表示上传成功
//                     message : "提示的信息，上传成功或上传失败及错误信息等。",
//                     url     : "图片地址"        // 上传成功时才返回
//                     }

                });
            });
        </script>
    </body>

</html>